// Copyright (c) 2014 Silicon Studio Corp. (http://siliconstudio.co.jp)
// This file is distributed under GPL v3. See LICENSE.md for details.
using System;

namespace SiliconStudio.Assets
{
    /// <summary>
    /// An event generated by <see cref="AssetImportSession"/> by the <see cref="AssetImportSession.Progress"/> handler. 
    /// This class cannot be inherited.
    /// </summary>
    public sealed class AssetImportSessionEvent : EventArgs
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="AssetImportSessionEvent"/> class.
        /// </summary>
        /// <param name="type">The step.</param>
        /// <param name="step">The Step.</param>
        /// <param name="toImportByImporter">To import by importer.</param>
        /// <exception cref="System.ArgumentNullException">toImportByImporter</exception>
        public AssetImportSessionEvent(AssetImportSessionEventType type, AssetImportSessionStepType step, AssetToImportByImporter toImportByImporter)
        {
            if (toImportByImporter == null) throw new ArgumentNullException("toImportByImporter");
            Type = type;
            Step = step;
            ToImportByImporter = toImportByImporter;
            ToImport = null;
        }

        /// <summary>
        /// Initializes a new instance of the <see cref="AssetImportSessionEvent"/> class.
        /// </summary>
        /// <param name="type">The step.</param>
        /// <param name="step">The Step.</param>
        /// <param name="toImport">To import merge group.</param>
        /// <exception cref="System.ArgumentNullException">ToImport</exception>
        public AssetImportSessionEvent(AssetImportSessionEventType type, AssetImportSessionStepType step, AssetToImportMergeGroup toImport)
        {
            if (toImport == null) throw new ArgumentNullException("toImport");
            Type = type;
            Step = step;
            ToImportByImporter = toImport.Parent;
            ToImport = toImport;
        }


        /// <summary>
        /// Gets the type of event.
        /// </summary>
        /// <value>The type.</value>
        public AssetImportSessionEventType Type { get; private set; }

        /// <summary>
        /// Gets the step of this event.
        /// </summary>
        /// <value>The step.</value>
        public AssetImportSessionStepType Step { get; private set; }

        /// <summary>
        /// Gets the asset being imported with its specified importer.
        /// </summary>
        /// <value>To import by importer.</value>
        public AssetToImportByImporter ToImportByImporter { get; private set; }

        /// <summary>
        /// Gets the asset being imported.
        /// </summary>
        /// <value>To import.</value>
        public AssetToImportMergeGroup ToImport { get; private set; }
    }
}